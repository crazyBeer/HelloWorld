/*
 * Compressed by JSA(www.xidea.org)
 */
(function(_,B,A){var $={spliter:"\x0f",ENABLED:"enabled",DISABLED:"disabled",ns:function(){var A,$;B.each(arguments,function(D,C){$=C.split(".");A=_[$[0]]=_[$[0]]||{};B.each($.slice(1),function(_,$){A=A[$]=A[$]||{}})});return A},getClientHeight:function(){var $=0;if(document.body.clientHeight&&document.documentElement.clientHeight)$=(document.body.clientHeight<document.documentElement.clientHeight)?document.body.clientHeight:document.documentElement.clientHeight;else $=(document.body.clientHeight>document.documentElement.clientHeight)?document.body.clientHeight:document.documentElement.clientHeight;return $},scrollOnBottom:function(A){var _=B(document),C=_.scrollTop(),$=_.height(),D=this.getClientHeight();A=Math.max((A||0),0);return(C>0)&&(C+D+A>=$)},getJSONValue:function(A,_){var $=A;B.each(_.split("."),function(A,_){$=$[_]});return $},cleanJSON:function(_,C){var $={};for(var D=0,B=C.length;D<B;D++){var A=C[D];if(_[A])$[A]=_[A]}return $},extend:function(C,A,$){var D=Object.prototype.constructor;function _(A,_,$){var C=function(){};C.prototype=_.prototype;var E=new C();E.constructor=A;B.extend(A.prototype,E,$);if(_.prototype.constructor==D)_.prototype.constructor=_;A.superclass=_.prototype;return A}return function(C,A,$){if(B.type(A)=="object"){$=A;A=C;if(D!=$.constructor)C=$.constructor;else C=function(){A.apply(this,arguments)}}return _(C,A,$||{})}}(),urlEncode:function($){var _=this;function A(A,_){var C=_||[],$=arguments.callee,D=[];B.each(A,function(G,F){switch(B.type(F)){case"object":var A=C.slice(0);A.push(G);D.push($(F,A));break;case"array":var _=G,E=true;B.each(F,function(G,F){var A=C.slice(0);A.push(_+"["+G+"]");if("object"!=B.type(F)){E=false;return true}D.push($(F,A))});if(E)break;default:A=C.slice(0);A.push(G);D.push("&",A.join(".")+"="+encodeURIComponent(F))}});return D.join("")}return A($).substring(1)},urlDecode:function($){var A={},_=$.split("&");B.each(_,function(B,_){var $=_.split("=");A[$[0]]=decodeURIComponent($[1])});return A},parseParams:function($){return this.urlDecode(this.urlEncode($))}};_.Qtt=_.T=$})(window,jQuery);(function(A,$,_){$.Observable=function($){this.events=$||{}};$.Observable.prototype={addEvents:function(){var $=this;A.each(arguments,function(A,_){$.events[_]=true});return $},on:function(D,E,B,F){var C=this,_=C.events[D];if(!_)return;if(A.type(_)=="boolean")_=C.events[D]=new $.Event(D,C);_.addListener(E,B,typeof F=="object"?o:{})},un:function(C,D,_){var B=this,$=B.events[C];if(A.type($)=="object")$.removeListener(D,_)},fireEvent:function(C){var B=this,$=true;e=B.events[C];if(A.type(e)=="object"){var _=Array.prototype.slice.call(arguments,1);$=e.fire.apply(e,_)}return $}};$.Event=function($,_){this.name=$;this.obj=_;this.listeners=[]};$.Event.prototype={addListener:function(A,$,B){var _=this;_.listeners.push({fn:A,scope:$||_.obj,options:B})},removeListener:function(A,_){var $=findListener(A,_);if($>-1)this.listeners.splice($,1)},findListener:function(C,_){var B=this.listeners,$=-1;A.each(B,function(B,A){if(A.fn==C&&A.scope==_){$=B;return false}});return $},fire:function(){var B=this,$=true,_=Array.prototype.slice.call(arguments,0);A.each(B.listeners,function(C,A){if(A&&A.fn.apply(A.scope||B.obj||window,_)===false)return($=false)});return $}}})(jQuery,T);(function(B,$,A){var _=$.ns("T.DateUtils");B.extend(_,{defaultFormat:"yyyy-mm-dd",getNow:function(){return new Date()},getTime:function(){return+new Date},compareDate:function(_,$){},addDate:function(_,$){_.setDate(_.getDate()+$);return _},dateDiff:function($,A,_){_=_||"Y-m-d";$=Date.parseDate($,_);A=Date.parseDate(A,_);return(A-$)/(60*60*1000*24)},parseDate:function($,_){if(A==_)_=this.defaultFormat},formatDate:function(_,$){if(A==$)$=this.defaultFormat},getLastDay:function(A,_){var $=A,B=_++;if(_>12){B-=12;$++}var C=new Date($,B,1);return(new Date(C.getTime()-1000*60*60*24)).getDate()}})})(jQuery,T);(function(A,$,_){$.Processor=function(A,_,$){this.timerId=null;this.lastExecTime=-1;if(!$||isNaN($))$=100;this.interval=$;this.processing=function(){this.lastExecTime=+new Date;A.call(_)}};$.Processor.prototype={process:function(){var B=this,$=this.lastExecTime,_=this.interval;clearTimeout(this.timerId);var A=+new Date;if($<0)$=this.lastExecTime=A;if(A-$>_){B.processing();return}this.timerId=setTimeout(function(){B.processing()},_)}}})(jQuery,T);(function(C,F,H){var A=F.ns("T.StringUtils"),K={},E=C("<span style='display:none;'/>"),L="font-family,font-size,line-height,font-weight,font-style,text-decoration".split(",");function B($){var _=[];C.each(L,function(B,A){_.push($[A])});return _.join("@")}function D(){E.appendTo(document.body)}function J($){D();J=function($){$=F.cleanJSON($,L);var _=[],A=B($);E.css($);E.html("\u4e2d\u4e2d\u4e2d\u4e2d\u4e2d\u4e2d\u4e2d\u4e2d\u4e2d\u4e2d");_[256]=E.outerWidth()/10;_[257]=E.outerHeight();for(var C=0;C<256;C++){E.html("\u4e2d"+String.fromCharCode(C)+"\u4e2d");_[C]=E.outerWidth()-2*_[256]}return _};return J($)}function _($){var _=B($);if(!K[_])K[_]=J($);return K[_]}function I(B,D){var $=0,A=_(D);for(var F=0,E=B.length;F<E;F++){var C=B.charCodeAt(F);$+=A[Math.min(C,256)]}return $}function $(I,C,J,A){var $=[],E={},G=_(C);if(J){J.lastIndex=0;var H=J.exec(I);while(H){E[H.index]=J.lastIndex;H=J.exec(I)}}for(var F=0,D=I.length;F<D;F++){if(E[F]){$[F]=A;var K=E[F++];for(;F<K;F++)$[F]=0;F--;continue}var B=I.charCodeAt(F);$[F]=G[Math.min(B,256)]}return $}function G(_,D,B,C){var A=0,$=[];for(var F=0,E=_.length;F<E;F++){A+=D[F];if(A>B){$.push(_.slice(0,F));$.push(arguments.callee(_.substring(F),D.slice(F),B,C));break}}if($.length>0)_=$.join(C);return _}C.extend(A,{getPxWidth:I,getPxSizeLib:_,getPxLengthArray:$,autoBreak:function(D,J,E,H,B,A){var I=D.split(H),F=null,_=[];C.each(I,function(D,C){F=$(C,J,B,A);_.push(G(C,F,E,H,B,A))});return _.join(H)}})})(jQuery,T);(function(B,$,A){var _=$.ns("T.StringUtils"),C=/\{(\d+)\}/g;B.extend(_,{format:function(_){var $=[].slice.call(arguments,1);return _.replace(C,function(_,A){return $[A]||""})},nano:function($,_){return $.replace(/\{([\w\.]*)\}/g,function(A,D){var B=D.split("."),$=_[B.shift()];for(var E=0,C=B.length;E<C;E++)$=$[B[E]];return(typeof $!=="undefined"&&$!==null)?$:""})},leftPad:function(_,B,A){var $=String(_);A=A||" ";while($.length<B)$=A+$;return $},firstUpper:function($){return $.slice(0,1).toUpperCase()+$.slice(1)},firstUpperAll:function(A,E,_){var D=this,C=[],F=A.split(E),$=F[0];if(_)$=D.firstUpper($);C.push($);B.each(F.slice(1),function(_,$){C.push(D.firstUpper($))});return C.join("")},nl2br:function($){return $.replace(/(\n\r|\r\n)/gi,"\n").replace(/(\n|\r)/gi,"<br/>")},br2nl:function($){return $.replace(/<br\/>/gi,"\n")},encodeHTML:function(_){var $=[];for(var C=0,B=_.length;C<B;C++){var A=_.charAt(C);switch(A){case"&":A="&amp;";break;case";":A="&#59;";break;case"<":A="&lt;";break;case">":A="&gt;";break;case"'":A="&#39;";break;case"%":A="&#37;";break;case"(":A="&#40;";break;case")":A="&#41;";break;case"+":A="&#43;";break}$.push(A)}return $.join("")},decodeHTML:function($){return $.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&#37;/g,"%").replace(/&#59;/g,";").replace(/&#40;/g,"(").replace(/&#41;/g,")").replace(/&#43;/g,"+").replace(/&amp;/g,"&")}})})(jQuery,T);(function(A,$,_){$.ns("T.data");$.data.Grid=function(B){A.extend(this,{tpl:"",context:"",filterSelector:".t_grid_header",store:_,pageBar:_},B);if(A.type(this.context)=="string")this.context=A(this.context);$.data.Grid.superclass.constructor.call(this);this.initEvents();this.initComponent();this.initListeners()};$.extend($.data.Grid,$.Observable,{initComponent:function(){var C=this,_=C.store,B=C.pageBar;if(A.type(_)=="object"&&!(_ instanceof $.data.Store))_=C.store=new $.data.Store(_);if(A.type(B)=="object"&&!(B instanceof $.data.PageBar))B=C.pageBar=new $.data.PageBar(B)},initListeners:function(){var D=this,_=D.store,B=D.pageBar,C=D.tpl;_.on("load",function(_,G,E,B){if(false===G)return;D.fireEvent("beforerender",D,_.getCurrentPage(B));D.removeContent();var F=[];A.each(E,function(A,_){F.push($.StringUtils.nano(C,_))});D.fireEvent("render",D,F.join(""))});if(B instanceof $.data.PageBar){B.on("paging",function(A,$,B){if($!=B)_.load($)});_.on("load",function($,C,A,_){B.render({currentPage:$.getCurrentPage(),totalPage:$.getTotalPage(),totalRecord:$.getTotalRecord(),pageSize:$.getPageSize()})})}D.on("render",D.doRender)},load:function($,_){this.removeContent();this.store.load($,_)},doRender:function($,_){this.addContent(_)},addContent:function($){this.context.append($)},removeContent:function(){var $=this.context,_=this.filterSelector;$.children().not(_).remove()},getStore:function(){return this.store},getPageBar:function(){return this.pageBar},initEvents:function(){this.addEvents("beforerender","render")}})})(jQuery,T);(function(B,$,A){$.ns("T.data");var D=$.DISABLED,_="t_pagebar",C="currentPage,totalPage,totalRecord,pageSize".split(",");$.data.PageBar=function(A){A=A||{};var E=this.context=B(A.context);E.addClass(_);var D=B.extend({},this.defaultInfoSelectors,A.infoSelectors),F=B.extend({},this.defaultButtonSelectors,A.buttonSelectors);this.initInfoElement(D);this.initButtons(F);var C=this.data=B.extend({},this.defaultData,A.data);$.data.PageBar.superclass.constructor.call(this);this.initEvents();this.render(C)};$.extend($.data.PageBar,$.Observable,{defaultData:{currentPage:1,totalPage:1,totalRecord:0,pageSize:20},defaultInfoSelectors:{currentPage:".js_currentPage",totalPage:".js_totalPages",totalRecord:".js_totalRecords",goPage:".js_goPage"},defaultButtonSelectors:{firstPage:".js_firstPage",lastPage:".js_lastPage",prePage:".js_prePage",nextPage:".js_nextPage",goPage:".js_goBtn"},initButtons:function(E){var _=this,C=_.context,$=_.buttons={},A;B.each(E,function(F,E){A=$[F]=C.find(E);A.click(function(){if(true===B(this).data(D))return;_.paging(F)})})},initInfoElement:function($){var _=this,A=_.context,C=_.infoElements={};B.each($,function(_,$){C[_]=A.find($)})},initData:function(_){_=$.cleanJSON(_,C);return this.data=B.extend({},this.defaultData,_)},paging:function($){this.fireEvent("paging",this,this.computePage($),this.getCurrentPage())},computePage:function(_){var C=this,A=C.data,$=A.currentPage,E=A.totalPage,B=1;switch(_){case"firstPage":B=1;break;case"prePage":B=$-1;break;case"nextPage":B=$+1;break;case"lastPage":B=E;break;case"goPage":var D=C.infoElements.goPage;gotoPage=D.val();D.val("");if(!gotoPage||!/^\d+$/.test(gotoPage))B=$;else B=gotoPage;break}B=Math.max(B,1);B=Math.min(B,E);return B},render:function($){this.infoElements.goPage.val("");this.fireEvent("render",this,$);var C=this,E=C.context,A=C.buttons,_=C.initData($),D=_.currentPage,F=_.totalPage;B.each(A,function(_,$){C.enableButton($)});if(D<=1){D=1;C.disableButton(A.firstPage,A.prePage)}if(D>=F){D=F;C.disableButton(A.nextPage,A.lastPage)}_.currentPage=D;C.renderInfo(_)},renderInfo:function($){var _=this,A=_.infoElements;B.each(A,function(A,_){if("goPage"!=A)_.text($[A])})},enableButton:function($){$.data(D,false);$.removeClass("disabled_button")},disableButton:function(){B.each(Array.prototype.slice.call(arguments,0),function(_,$){$.data(D,true);$.addClass("disabled_button")})},show:function(){this.context.show()},hide:function(){this.context.hide()},getCurrentPage:function(){return this.data.currentPage},getTotalPage:function(){return this.data.totalPage},getTotalRecord:function(){return this.data.totalRecord},initEvents:function(){this.addEvents("paging");this.addEvents("render")}})})(jQuery,T);(function(A,$,_){$.ns("T.data");$.data.ScrollGrid=function(_){_=A.extend({loadingContext:"",leaveBottom:10,maxInnerPage:6},_);A.extend(this,{innerPage:1});if(A.type(_.loadingContext)=="string")_.loadingContext=A(_.loadingContext);$.data.ScrollGrid.superclass.constructor.call(this,_);this.initScrollListeners()};$.extend($.data.ScrollGrid,$.data.Grid,{initListeners:function(){var D=this,_=D.store,B=D.pageBar,C=D.tpl;_.on("beforeload",D.doBeforeLoad,D);_.on("load",D.doAfterLoad,D);_.on("load",function(_,G,E,B){if(false===G)return;D.fireEvent("beforerender",D,_.getCurrentPage(B));var F=[];A.each(E,function(A,_){F.push($.StringUtils.nano(C,_))});D.fireEvent("render",D,F.join(""))});if(B instanceof $.data.PageBar){B.on("paging",function($,A,C){if(A!=C){var B=D.maxInnerPage;A=(A-1)*B+1;_.load(A)}});_.on("load",function(_,I,F,A){var E=D.maxInnerPage,G=_.getCurrentPage(),H=_.getTotalPage(),$=_.getTotalRecord(),C=_.getPageSize();G=Math.ceil(G/E);H=Math.ceil(H/E);B.render({currentPage:G,totalPage:H,totalRecord:$,pageSize:C})})}D.on("render",D.doRender)},initScrollListeners:function(){var C=this,B=A(document),_=0;C.on("scrollonbottom",C.onScrollOnBottom);C.on("beforepaging",function(){if(this.getStore().onloading||this.innerPage==this.maxInnerPage)return false});var D=new $.Processor(function(){var A=B.scrollTop();if($.scrollOnBottom(C.leaveBottom)&&_<A)C.fireEvent("scrollonbottom",C);_=A});A(window).scroll(function(){D.process()})},onScrollOnBottom:function(_){if(false===this.fireEvent("beforepaging",this))return;var $=this.getStore();$.load($.getCurrentPage()+1)},doBeforeLoad:function(_,A){var E=this,C=E.getPageBar(),D=E.maxInnerPage,B=C.getCurrentPage(),$=Math.ceil(A/D);if(B!=$)E.removeContent();E.showLoading();C.hide()},doAfterLoad:function(_,D){this.hideLoading();if(false===D)return;var C=this,A=C.getPageBar(),B=C.maxInnerPage,$;$=C.innerPage=(_.getCurrentPage()-1)%B+1;C.outerPage=A.getCurrentPage();if($==B||C.getCurrentPage()>=_.getTotalPage())A.show();else A.hide()},getCurrentPage:function(){var $=this.innerPage,_=this.getPageBar().getCurrentPage(),A=this.maxInnerPage;return(_-1)*A+$},showLoading:function(){this.loadingContext.show()},hideLoading:function(){this.loadingContext.hide()},initEvents:function(){this.addEvents("beforerender","render","scrollonbottom","beforepaging","paging")}})})(jQuery,T);(function(A,$,_){$.ns("T.data");$.data.Store=function(B){A.extend(this,{url:_,fields:[],baseParams:{}},B);this.parseFieldConf(this.fields);this.paramNames=A.extend({},this.defaultParamNames,B.paramNames||{});A.extend(this,{totalPage:1,currentPage:1,totalRecord:0,pageSize:20,onloading:false});$.data.Store.superclass.constructor.call(this);this.initEvents()};$.extend($.data.Store,$.Observable,{lastParmas:_,defaultParamNames:{page:"currentPage",currentPage:"currentPage",totalPage:"totalPages",totalRecord:"totalRecords",pageSize:"pageSize",root:"records",successProperty:"success"},load:function($,B){var _=this,C={};switch(A.type($)){case"number":C[_.paramNames.page]=$;break;case"object":B=$;break;case"undefined":B=_.lastParams;break}_.lastParams=A.extend(C,_.baseParams,B);$=C[_.paramNames.page];if(false===_.fireEvent("beforeload",_,$,C))return;_.removeAll();_.onloading=true;CAjax(_.url,{cache:false,async:true,data:C},function($){var B=(false!==$[_.paramNames.successProperty]),A;if(B)A=_.loadData($);_.fireEvent("load",_,B,A,$);_.onloading=false;_.fireEvent("loadcomplete",_,$)},function($){_.onloading=false;_.fireEvent("loaderror",_,$);_.fireEvent("loadcomplete",_,$)},function($){_.onloading=false;_.fireEvent("loadcomplete",_,$)})},loadData:function(_){var C=this,B=$.getJSONValue(_,C.paramNames.root);A.each(["currentPage","totalPage","totalRecord","pageSize"],function(B,A){C[A]=$.getJSONValue(_,C.paramNames[A])});return C.data=C.parseData(B||[])},parseData:function($){var B=this,C=B.fields,_=[];A.each($,function(D,$){var B={};A.each(C,function(A,_){B[_.name]=_.convert($)});_.push(B)});return _},parseFieldConf:function(C){var B=this,_=B.fields=[],$;A.each(C,function(D,C){$={"name":C,"mapping":C,"convert":B.defaultConvert};if("object"==A.type(C)){$.mapping=C.name;A.extend($,C)}_.push($)})},defaultConvert:function(_){var $=this;return _[$.mapping]},getData:function(){return this.data},getCurrentPage:function(){return this.currentPage},getTotalPage:function(){return this.totalPage},getTotalRecord:function(){return this.totalRecord},getPageSize:function(){return this.pageSize},removeAll:function(){self.data=[]},initEvents:function(){this.addEvents("beforeload","load","loaderror","loadcomplete")}})})(jQuery,T);(function(A,_){var $=0,B="jq-gen-";A.extend({id:function(_){return(_||B)+(++$)},ns:function(){var _,$;A.each(arguments,function(C,B){$=B.split(".");_=window[$[0]]=window[$[0]]||{};A.each($.slice(1),function(A,$){_=_[$]=_[$]||{}})});return _}});A.fn.extend({id:function($){if(_!=$)this.attr("id",$);else if(_==this.attr("id"))this.attr("id",A.id());return this.attr("id")}})})(jQuery)